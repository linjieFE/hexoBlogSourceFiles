---
title: VIM学习笔记
date: 2016-01-19 17:17:27
updated:
comments: true
categories: 技术摘录
tags:
 - vim
 - 学习笔记
---
首先我们知道在命令行中输入vim,进入vim文编辑器。
可能有人会问vim是什么？vim是多模式文本编辑器也可以说是跨平台的文本编辑器，什么平台都可以用，windows，linux，unix，etc.
由vi更新而来 VIM 是vi 的加强版.不仅兼容vi的所有指令，而且还有一些新的特性在里面。
安装vim之后会有个vimrc文件，像高亮、字体等等所有的设置都可以写在里面的，感兴趣可以去网上找找vim配置文件.
先介绍一些非常基础的vim知识供学习参考。

vim有三种工作模式：插入模式 (Insert mode)、命令模式(Command mode) 、行模式 (EX Commands mode)。
插入模式就像我们平时使用记事本时一样，可以随意的输入文本，
基本没有什么可说的。主要是其它两个模式.首先了解下三个模式的相互转换：
<!-- more -->

# 三个模式的相互转换。
打开一个vim，它的默认模式是命令模式，
输入a或i等字符后可以转为插入模式；
(按一下i键,下端显示 --INSERT--)
命令模式输入:可以转为行模式；
行模式也是在输入Esc后可以返回命令模式。
注意：行模式和插入模式是不能直接相互转换的，必须能过命令模式转换。
（下面的命令如果是以冒号开头的就是默认是行模式命令，否则是命令模式命令）
hjkl四个键相当于←↓↑→，可以在命令模式下使用它们来上下左右移动光标。
（特别注意不要再使用小键盘的上下左右来移动光标了，不然就失去使用vim的主要原因之一了，这是刚使用vim时最不容易改变的习惯）


## 1. 普通模式

在shell中直接打vim filename就会进入普通模式。在这个状态，我们可以通过不同的按键对文件进行操作和切换到其它模式。按“:”可切换到命令模式，按i，o，a可进入编辑模。

### 1.1. 编辑

i
进入编辑模式。

o
在当前位置下插入一空行，进入编辑模式，光标位于空行的最开头。

a
光标后移一个字符，进入编辑模式。

b
是跳到单词的开头

e
是跳到单词的结尾

v
这入可视模式，可用高亮的色块选择内容。

x or DEL键
删除当前字符，删除内容保存在缓冲区。

xp
左右字符互换。

dd
删除当前行，删除内容保存在缓冲区。

ddp
上下两行的内容互换。

d$
删除当前光标至行尾的所有内容。

dG
删除从当前行至文件未尾的所有行。

u
undo。

w
是跳到下一个单词的开头

v
进地visual模式，移动光标可选择文本。

y
把当前行复制到缓冲区中。

p
把缓冲区中的文本插入到当前位置。

"ay
把当前行复制到a缓冲区。可用26个字母命名多个缓冲区。

"ap
把a缓冲区中的文本插入当前位置。

J
上下两行合并成一行。

.
英文句点的作用是重复执行上次执行的命令，如你按了"ap插入a缓冲区的内容，那你就可按"."来重复这个操作。

### 1.2. 光标移动

h，j，k，l
在vim中，除了可使用光标键在移动光标外，还有一种更方便的光标移动方式。就是使用h，j，k，l这四个键来移动光标。h控制光标左移，j控制光标下移，k控制光标上移，l控制光标右移。通过使用这四个字母键就可使我们的手不用移动即可控制光标的移动。刚开始使用可能会有些不习惯，但熟练使用后你会发觉你的输入速度提高不少，强烈建议喜欢vim的朋友使用。

$
光标移动到行尾。

G
光标移动到文档末尾。

0
移动到此行的一个字符处

H,L
H控制光标移动到当前屏幕头，L控制光标移动到当前屏幕尾。

{，}
{控制光标上移一个段落，}控制光标下移一个段落

ctrl+f
向前翻动一页

ctrl+b
前后翻动一页
### 1.3 查找查换
  /word                   
  在光标之后查找一个word的字符串

  ？word                  
  在光标之前查找一个word的字符串

  ：n1,n2s/word1/word2/g  
  在第n1行和n2行之间查找word1,并将word1替换为word2

  :1,$s/word1/word2/g     
  从第一行到最后一行查找word1并替换为word2

  :1,$s/word1/word2/gc    
  从第一行到最后一行查找word1并替换为word2,在替换前显示提示符，让用户确认

### 1.4 删除 复制 粘贴  
x，X      
x向后删除一个字符  X向前删除一个字符  

nx        
向后删除n个字符

dd        
删除光标所在的整列

ndd       
删除光标所在列的向下n列

yy        
复制光标所在行  

nyy       
复制光标所在行的向下n行

p ，P      
p复制的数据粘贴在光标下一行，P上一行

u         
恢复上一个动作

## 2. 编辑模式

ESC      
退出编辑状态。返回一般模式

i ，I    
插入：在当前光标所在处插入输入的文字，已存在的字符会向后退 

a，A     
添加 ：由当前光标所在处的下一个字符开始输入，已存在的字符向后退 

o ，O    
插入新的一行，从光标所在处的下一行行首开始输入 

r，R     
替换：r会替换光标所指的那一个字符，R会一直替换光标所指的文字，知道案下esc       

## 3. 命令模式

在普通模式上按“:”就可进入命令模式，在左下屏幕我们输入一些操作指令。

:q!
不保存退出vim。

:w
保存文档，但不退出vim。

:w！   
若文件为只读，强制写入

:q       
推出vi   

:w ［filename］

保存为另一文件

:wq
是保存并退出文件

:x
保存退出vim。

:! command
运行shell命令。

:e filename
编辑/打开一个文件

:s/emacs/vim
在当前行中把第一个emacs替换成vim。

:s/emacs/vim/g
把当前行中所有的emacs替换成vim。

:%s/emacs/vim/g
在全局范围内把emacs替换成vim。

:reg
列出缓冲区内容。

:set all
列出所有参数的配置情况。

:tabe
新建一个标签页。

:tabn or :tabp
切换到下一个\上一个标签页。

:close
关闭当前标签页。

:qa
关闭所有标签页退出。

由于水平有限，加之行文匆忙，文中很可能错误不断，希望大家不要见怪，多批评指正。
另附两个vim常用命令链接供参考
[VIM常用命令](http://blog.css6.com/2014/12/18/VIM%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/)
[VIM 常用快捷键](http://www.cnblogs.com/abeen/archive/2010/07/28/1786594.html)
