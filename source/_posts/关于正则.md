---
title: 关于正则表达式
date: 2021-07-16 13:12:22
tags:
  - 学习笔记
categories: 学习笔记
---

很久没更新，本着生命不息，学习不止的态度，
趁着大家顶着7月的烈日炎炎出去团建，而我在公司吹着免费空调、喝着吴老板请的星爸爸、摸着鱼……（好了不能再说了，否则要去财务领工资了）的时间打开沉封已久的博客，随便更新点东西
今天不讲新技术，不说新轮子。扒一扒百家通用的基础 `正则`
学习任何语言最好的线上教科书莫过于[官方文档](https://www.runoob.com/regexp/regexp-metachar.html)，这里附上链接，大家自行翻阅

## 土味介绍

为什么说`正则`是百家通，如果你接触过某一门后端语言，无论那一种，都会用到正则表示式，前端也不例外， 你会发现它他们语法都差不多，正则就像一个小弟，需要依赖不同宿主的环境。只是不同的语法环境中使用不同的函数调用它就可以了。
所以，你如果从一种语言环境切换到别一个种言环境中使用`正则`，你只需要学习这种语言调用`正则`的函数方法就可以了。

## 正则的应用场景

最多的应用场景 就是字符串的`增删改查`,可能这里有人会说，前端不是已经有很多处理一些字符串的方法了吗？说的没错，但`正则`的方式要更强悍些。这种感觉就好像过去的`老人机`与`智能机`的对比。
话不闲扯，开始上干货……
#### 举个🌰
🌰1：从一堆字符串中全局找数字
```js
var str ='linjie20210716';
// 传统方式
let nums = [...str].filter(a=> !Number.isNaN(parsesInt(a))).join('')

// 正则匹配 
str.match(/\d/g).join('');
```

## 还有好多好多的 🌰

#### 🌰1：字面量。比如：现在我们让正则在一堆字符串里找`小姐姐`

```js
var str ='xiaojiejie20210716';
console.log(/xiaojiejie/.test(str)) // => true

// 这里 小姐姐 要是个字符串字面量，如果我们现在把 小姐姐 放在 变量里 返回的就是 false
var reg='xiaojiejie';
console.log(/reg/.test(str)) // => false

// 如果你一起想要用变量的形式 也有其它可以支持的方式，第一种就是 eval() ，🌰2：会绍第二种 

console.log(eval(`/${reg}/`).test(str)) //=> true 

```

####  🌰2：用对象创建正则表达式

```js

var str ='xiaojiejie20210716xiaojiejie';
let reg = new RegExp('xiaojiejie','g') //g => 代指全局 
reg.test(str)
//这里的小姐姐也可以用变量代替 结果是一样的
let found = 'xiaojiejie'
let reg = new RegExp(found,'g')

// 现在我们找出所有的小姐姐，进行替换

str.replace(reg, search => {
    return '小姐姐';
}) // => 小姐姐20210716小姐姐 

```


#### 选择符 `|` 类似于 js语法中的`或` `||`
🌰3：这里判断一个电话号码是不是北京或上海的

```js
var str ='010-12345678';
/^(010|021)\-\d{7-8}$/.test(str) //=> 出现任意一种则返回 true 
//
```

***土话语义:`^`代指开始， `$`表示结束，是边界的限定， 010或021 为了简洁这里用`()` 学名`原子组`的东西括起来，`-`和`d`在正则有特殊意义故需要用`\`转义，{7-8}代表数字7到8位`***

有人说🙋‍♀️ ：那如果我们匹配很多数字的时候不是很麻烦，不是要`(1|2|3|4|5|6|7|8|9|0)`，

这里就要提到正则的一个概念叫 `原子表` `[]`

[1234567890] 相当于 (1|2|3|4|5|6|7|8|9|0)
 
继续简化 `-` 中线符 指定范围 连续
[0-9] 就相当于[0123456789]

### 🌰4：特殊字面量的转义

🌰4： 这里假设用正则匹配一个url地址

```js
var url = 'https://linjieFE.github.io';

/^(https:\/\/)?\w+\.\w+\.\w+$/.test(url)
```
***土话语义:`^ $`开始结束边界的限定， `?`代码0或1次，也可理解为`有`或`没有`(https://) `\w`代表 字母大小写数字下划线 相当于 `[A-Za-z0-9_]`  `+`代表一个或多个字母大小写数字下划线 ***

*注意*
上面的字面量内容如果放在`正则表达式对象`里 情况则不同
字面量`/^(https:\/\/)?\w+\.\w+\.\w+$/`，单个反斜杠会自行转义

但如果在 `new RegExp("(https:\/\/)?\w+\.\w+\.\w+,'g')`中，于由第一个参数本身为数符串，正常使用则要改为`new RegExp("(https:\\/\\/)?\\w+\\.\\w+\\.\\w+",'g')`







